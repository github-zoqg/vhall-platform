## 红包组件

### 发起端:

#### 入口组件: live.vue

#### 功能:

1. 发红包

   1.1 设置金额/人数等

   1.2 扫码支付

#### 消息:

| 消息类型        | 描述         |
| --------------- | ------------ |
| RED_ENVELOPE_OK | 支付成功消息 |

#### 事件驱动相关方法:

| 方法名 | 参数描述 | 描述                          |
| ------ | -------- | ----------------------------- |
| open   | 无       | 接受工具栏组件的事件,打开弹窗 |

### 观看端:

#### 入口组件: watch.vue

#### 子组件:

​ red-packet-accept.vue : `领红包`视图

​ red-packet-success.vue : `红包领取结果`视图

​ red-packet-winners.vue : `中奖名单`视图

#### 功能:

1. 领红包

2. 显示中奖名单

#### 消息:

| 消息类型                  | 描述                                   |
| ------------------------- | -------------------------------------- |
| RED_ENVELOPE_PUSH         | 发起端支付红包--红包可领取             |
| RED_ENVELOPE_OPEN_SUCCESS | 红包领取信息--判断当前红红包是否有剩余 |
| live_over                 | 活动结束-关闭红包组件弹窗              |
| JOIN                      | 监听在线人数                           |
| LEFT                      | 监听在线人数                           |

#### 事件驱动相关方法:

| 方法名         | 参数描述 | 描述                              |
| -------------- | -------- | --------------------------------- |
| emitClickLogin | 无       | 派发打开登录弹框                  |
| open           | 红包 id  | 接受按钮和聊天的事件,开启红包弹窗 |
