# 媒体设置

用于 pc 发起端、观看端的媒体设置

## 主要功能

1. 展示可转播的活动房间
2. 可搜索活动房间
3. 点击活动房间可以预览，能够视频流和演示中的文档
4. 点击开始转播可以将目标房间的视频流和文档流推送到观众端
5. 可以通过转播列表来结束某个转播，在转播时可勾选是否重新推送本地流

## 依赖服务

1. mediaSettingServer
2. interactiveServer
3. roomBaseServer

## 需要注意点

### 发起端、观看端区别

发起端有 basic-setting(基础设置)、观看端没有

### 发送 diff

保存时发送的是 `diffOptions` ，即只发送变动的配置项，以让接受事件者知道哪些变动。
如果需要全量的 options 直接取 `mediaSetting.state` 即可

### mediaSettingConfirm

弹窗实例注册在 `media-setting/main.vue`，为了让子孙组件也较为方便地使用该弹窗，单独开启了一个实例，通过 `mediaSettingConfirm.show` 来唤醒弹窗。

---

## 输入 api(向其他组件发送的指令)

| 方法名      | 参数 1      | 描述                            | 代码块 |
| ----------- | ----------- | ------------------------------- | ------ |
| saveOptions | diffOptions | 保存配置(传输变动的 options 项) |        |

## 输出 api(暴露给其他组件使用的方法)

| 方法名           | 方法说明         | 参数 | 描述 |
| ---------------- | ---------------- | ---- | ---- |
| showMediaSetting | 展示媒体设置窗口 |      |      |
